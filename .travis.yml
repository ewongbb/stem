# Travis CI configuration file
# http://about.travis-ci.org/docs/

language: python

python:
    - "2.7"
    - "3.5"
    - "3.6"

env:
  - TEST_PARAM="--unit"
  - TEST_PARAM="--integ"

before_install:
  - sudo apt-get clean
  - gpg --keyserver keys.gnupg.net --recv A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89
  - gpg --export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 | sudo apt-key add -
  - echo "deb http://deb.torproject.org/torproject.org tor-nightly-master-stretch main" | sudo tee -a /etc/apt/sources.list
  - sudo apt-get update
  - sudo apt-get install tor deb.torproject.org-keyring

# Dependencies installation commands
install:
  - pip install -U pip
  - pip install -r requirements.txt

# Tests running commands
script:
  - ./run_tests.py $TEST_PARAM 

notifications:
  email: false

after_script:
  # List installed packages along with their versions.
  - "pip list"

sudo: false

git:
  depth: 300
